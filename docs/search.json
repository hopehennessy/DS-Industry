[
  {
    "objectID": "llm_intro_task.html",
    "href": "llm_intro_task.html",
    "title": "LLM task",
    "section": "",
    "text": "In this exercise you will explore large language models (LLMs) in three complementary ways after studying llm_intro.qmd.\nIn Part A you will use any provider’s web console to iterate on prompts and observe strengths/weaknesses.\nIn Part B you will make a call to an LLM from within an R function, demonstrating programmatic LLM use. Part C asks you to familiarise yourself with some examples of bias and discrimination in generative AI."
  },
  {
    "objectID": "llm_intro_task.html#prerequisites-for-part-b-only",
    "href": "llm_intro_task.html#prerequisites-for-part-b-only",
    "title": "LLM task",
    "section": "Prerequisites (for Part B only)",
    "text": "Prerequisites (for Part B only)\n\nSign up for a free Mistral AI account\n\nIn the Mistral Console, create an API key\n\nCopy the key (looks like: mistral-xxxxxxxx...)\n\nAdd to your .Renviron file with\n\nusethis::edit_r_environ()\nthen\nMISTRAL_API_KEY=your_api_key_here"
  },
  {
    "objectID": "llm_intro_task.html#part-a-console-exploration",
    "href": "llm_intro_task.html#part-a-console-exploration",
    "title": "LLM task",
    "section": "Part A — Console exploration",
    "text": "Part A — Console exploration\nGoal: gain intuition for prompting. Pick a task relevant to you (e.g., summarise a short article; extract a table from a paragraph; draft a short email; write a tiny code snippet). Use an area you know well, so you can judge the output.\n\nA1. Define success\n\nDecide on a one sentence objective (what should the output look like?).\nChoose constraints: length, tone, format (e.g., 3 bullets ≤12 words each).\n\n\n\nA2. Baseline prompt\n\nPaste a minimal prompt and capture the output.\n\n\n\nA3. Improve with structure\n\nAdd headings, bullet lists, and delimiters to separate data from instructions.\nAdd 1–2 examples (few-shot) showing desired input and output.\n\n\n\nA4. Stress-test & refine\n\nProvide examples (positive and negative)\nAsk follow-ups to clarify ambiguities.\nRequest a revised answer with the new constraints/examples.\n\n\n\nA5. Reflection\n\nWhat improved the most? what still failed? what would you try next?"
  },
  {
    "objectID": "llm_intro_task.html#part-b-programmatic-llm-use",
    "href": "llm_intro_task.html#part-b-programmatic-llm-use",
    "title": "LLM task",
    "section": "Part B — Programmatic LLM use",
    "text": "Part B — Programmatic LLM use\nGoal: demonstrate simple programmatic use of an LLM\n\nB1. Input data\nload(\"data/my_imdb_reviews.RData)\nreviews &lt;- as.character(reviews$review)\nreviews &lt;- sample(reviews, 30)\n\n\nB2. Write function\nlibrary(ellmer)\n\n# Create a conversation with Mistral (choose an available model)\nchat &lt;- chat_mistral(model = \"mistral-small-latest\")\n\n# Summarise a review in exactly 3 short bullets (no parsing needed)\nsummarise_review &lt;- function(txt, tone = c(\"neutral\",\"friendly\",\"formal\")[1]) {\n  prompt &lt;- paste0(\n    \"This is a movie review of either Taxi Driver or Waterworld. \\n\",\n    \"Summarise the product review in EXACTLY 3 bullets.\\n\",\n    \"Each bullet &lt;= 10 words, written in a \", tone, \" tone.\\n\",\n    \"Focus on what mattered to the reviewer \\n\\n\",\n    \"Review:\\n\", txt\n  )\n  chat$chat(prompt)\n}\n\n\nB3. Run\n# Read a review\nreviews[1]\n\n# Summarize review\nsummarise_review(reviews[1], tone = \"neutral\")\nsummarise_review(reviews[1], tone = \"friendly\")\nsummarise_review(reviews[1], tone = \"formal\")\n\n\nB4. Experiment\n\nTry different reviews.\nRun multiple times on the same review, check consistency.\nVary parameters of the function (e.g. number of bullet points, length, tone)"
  },
  {
    "objectID": "llm_intro_task.html#part-c-explore-bias",
    "href": "llm_intro_task.html#part-c-explore-bias",
    "title": "LLM task",
    "section": "Part C — Explore bias",
    "text": "Part C — Explore bias\nExplore some of the documented examples of gender and racial bias in generative AI (for example, by asking an LLM for these)."
  },
  {
    "objectID": "LLM_ellmer.html",
    "href": "LLM_ellmer.html",
    "title": "LLM_ellmer",
    "section": "",
    "text": "load(\"my_imdb_reviews.RData\")\nreviews &lt;- as.character(reviews$review)\nreviews &lt;- sample(reviews, 30)\nhead(reviews, 3)\n\n[1] \" finally saw this movie last night after hearing for years about what a flop it is  it s not as bad as a lot of people are making it out to be  it s at least as plausible as a james bond movie  and people generally like those  the premise is interesting  scavengers surviving on a flooded earth  you can pick apart the science behind it all  but if you can t suspend disbelief once in a while  you shouldn t go to the movies in the first place  of course  this doesn t work for dreck such as the laughably bad battlefield earth  which didn t have a single bright star to rise above the mediocrity  but in waterworld the characterizations and dialogue are pretty good  costner is surprisingly effective as the fish man  he s not an instantly likable character  he s cold  aloof  inhuman  self centered  at the very least  this movie deserves credit for having the courage to create a main character who isn t like every other summer blockbuster character to march across the silver screen over the last twenty five years  he throws the little girl into the ocean  for god s sake  he also sells helen to the horny englishman for a few sheets of paper  after dropping the sails onto her and konking her over the head with an oar  it is refreshing to see such an abject protagonist  and one so ripe for redemption  the film doesn t disappoint in that respect  because he earns his stripes without the unimaginative treacle usually associated with a big budget film  for instance  when he teaches the girl to swim it s believable without being sappy i think it s a shame to dismiss this movie as a flop without appreciating the evident work that went into the detailed characters and how they dealt with each other  perhaps it s best to watch the movie from that point of view instead of wondering where they got the fuel for the jet skis  \"                                                                                                                                                                                                                                                                                               \n[2] \"            spoiler warning                 even seven plus years later waterworld still stands as a monument to boundless excess   sure  part of the bazillions in the budget was because it was filmed  on location   but that location was water   they could have had the same effect by just filming off the coast and keeping the land out of the shots second was the complete absurdity of it all  even if every bit of ice on earth melted it still wouldn t be enough to drown everything and leave mount everest as the only dry place on earth    we re talking almost five miles of water    not to mention how people would realistically survive decades  or centuries as the plot says  on the ocean  with storms and heavy waves and all that   then there s how everything seems to be made out of metal  which would rust and corrode like crazy in salt water  or the smokers floating around on the exxon valdez  which was renamed and sank for real a few years after the movie came out   or finally  why everyone didn t cling onto the last bit of dry land and fight for it  not lose it and forget where it was        okay  ignore all that and it s a fair action flick with some good stunts   although the skiing kamikazes was a little much  and for all practical purposes it s an aquatic road warrior   matter of fact the role seems almost cut out for mel gibson and kevin costner comes across as a last minute replacement  even though the movie was his baby it helps to watch the version with the missing scenes  as some things are explained a bit more   such as  dry land  being everest  and some of those scenes contradict the rest of the movie  that apparently the ocean going population was relatively new and was dying out within these people s lifetimes maybe at some level the movie was trying to make a statement about people who squander and destroy resources  like the smokers  as compared to people who try to live more in harmony with things  like the mariner   jeanne tripplethorn was easy on the eyes and the mariner s circque du soleil boat was kind of cool  but otherwise this was just another bad hollywood movie  \"\n[3] \" waterworld is just like last action hero a really good movie with good performances that was very ahead of it s time and people hated it that s like saying that mad max was a bad movie because it was ahead of it s time or terminator or alien or anything else post apocalyptic movie or movies with fiction in it  there is a lot of action  laughs but also nice cinematography now the only problem i had with the movie it was sometimes it was a bit silly like dennis hopper s character says some lines that totally are made for villains of this kind and the cgi is not good you can also spot the green screen in some scenes threw out the movie but the film has a lot of action  good performances but also it s a funny movie and i m going to give waterworld a a  9 10  \"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n\n\n\n# Create a conversation with Mistral (choose an available model)\nchat &lt;- chat_mistral(model = \"mistral-small-latest\")\n\n\nellmer is an R package that provides an interface to Mistral LLMs.\nchat_mistral() creates a chat session with the specified model.\nchat is now an object you can use to send prompts and get responses.\n\n\n# Summarise a review in exactly 3 short bullets (no parsing needed)\nsummarise_review &lt;- function(txt, tone = c(\"neutral\",\"friendly\",\"formal\")[1]) {\n  prompt &lt;- paste0(\n    \"This is a movie review of either Taxi Driver or Waterworld. \\n\",\n    \"Summarise the product review in EXACTLY 3 bullets.\\n\",\n    \"Each bullet &lt;= 10 words, written in a \", tone, \" tone.\\n\",\n    \"Focus on what mattered to the reviewer \\n\\n\",\n    \"Review:\\n\", txt\n  )\n  chat$chat(prompt)\n}\n\n\nFunction: summarise_review()\n\nInput: txt = a single movie review string.\nOptional: tone = “neutral”, “friendly”, or “formal” (default is neutral).\n\nPrompt construction:\n\nThe prompt variable is a text instruction given to the LLM.\nInstructions:\n\nSummarize in exactly 3 bullet points\nEach bullet ≤ 10 words\nWritten in the chosen tone\nFocus on what matters to the reviewer\n\n\nCalling the LLM: chat$chat(prompt)\n\nSends the prompt to the Mistral model and gets the response.\nResponse is typically the 3-bullet summary.\n\n\n\nreviews[1] # look at the first review\n\n[1] \" finally saw this movie last night after hearing for years about what a flop it is  it s not as bad as a lot of people are making it out to be  it s at least as plausible as a james bond movie  and people generally like those  the premise is interesting  scavengers surviving on a flooded earth  you can pick apart the science behind it all  but if you can t suspend disbelief once in a while  you shouldn t go to the movies in the first place  of course  this doesn t work for dreck such as the laughably bad battlefield earth  which didn t have a single bright star to rise above the mediocrity  but in waterworld the characterizations and dialogue are pretty good  costner is surprisingly effective as the fish man  he s not an instantly likable character  he s cold  aloof  inhuman  self centered  at the very least  this movie deserves credit for having the courage to create a main character who isn t like every other summer blockbuster character to march across the silver screen over the last twenty five years  he throws the little girl into the ocean  for god s sake  he also sells helen to the horny englishman for a few sheets of paper  after dropping the sails onto her and konking her over the head with an oar  it is refreshing to see such an abject protagonist  and one so ripe for redemption  the film doesn t disappoint in that respect  because he earns his stripes without the unimaginative treacle usually associated with a big budget film  for instance  when he teaches the girl to swim it s believable without being sappy i think it s a shame to dismiss this movie as a flop without appreciating the evident work that went into the detailed characters and how they dealt with each other  perhaps it s best to watch the movie from that point of view instead of wondering where they got the fuel for the jet skis  \"\n\n# Summarize review - generates 3-bullet summaries in different tones\nsummarise_review(reviews[1], tone = \"neutral\") \n\n- **Premise is interesting despite scientific implausibility.**\n- **Costner delivers a refreshingly flawed protagonist.**\n- **Character dynamics and dialogue stand out.**\n\nsummarise_review(reviews[1], tone = \"friendly\")\n\n- **Fun, flawed but underrated—better than its reputation!**\n- **Costner’s antihero is refreshingly complex and flawed.**\n- **Great character depth and dialogue make it worth watching.**\n\nsummarise_review(reviews[1], tone = \"formal\")\n\n- **Premise offers engaging, if implausible, post-apocalyptic worldbuilding.**\n- **Costner delivers a compelling, morally ambiguous protagonist.**\n- **Character development and dialogue elevate the film beyond expectations.**\n\n\nYou can see how the same review is summarized differently depending on tone.\nExperiment\n\nTry the function on different reviews.\nRun it multiple times on the same review to see if the output changes (LLMs are probabilistic).\nChange parameters:\n\nNumber of bullet points\nMax words per bullet\nTone (neutral, friendly, formal)\n\n\n\n# Summarize the first 5 reviews neutrally\nfor (i in 1:5) {\n  cat(\"Review\", i, \"summary:\\n\")\n  print(summarise_review(reviews[i], tone = \"neutral\"))\n  cat(\"\\n------------------------\\n\")\n}\n\nReview 1 summary:\n- **Premise is intriguing despite scientific implausibility**\n- **Costner delivers a complex, unlikable yet compelling protagonist**\n- **Strong character dynamics and dialogue elevate the film**\n- **Premise is intriguing despite scientific implausibility**\n- **Costner delivers a complex, unlikable yet compelling protagonist**\n- **Strong character dynamics and dialogue elevate the film**\n\n------------------------\nReview 2 summary:\n- **Excessive budget and unrealistic premise undermine the film**\n- **Action sequences and stunts are decent but flawed**\n- **Themes of resource waste and survival are underdeveloped**\n- **Excessive budget and unrealistic premise undermine the film**\n- **Action sequences and stunts are decent but flawed**\n- **Themes of resource waste and survival are underdeveloped**\n\n------------------------\nReview 3 summary:\n- **Strong performances and ahead-of-its-time vision**\n- **Action-packed with humor and decent cinematography**\n- **Flawed CGI and occasional silly moments**\n- **Strong performances and ahead-of-its-time vision**\n- **Action-packed with humor and decent cinematography**\n- **Flawed CGI and occasional silly moments**\n\n------------------------\nReview 4 summary:\n- **Strong performances elevate the film's gritty realism**\n- **Plot flaws undermine realism in key scenes**\n- **Character arcs and themes resonate despite inconsistencies**\n- **Strong performances elevate the film's gritty realism**\n- **Plot flaws undermine realism in key scenes**\n- **Character arcs and themes resonate despite inconsistencies**\n\n------------------------\nReview 5 summary:\n- **Strong visuals, action, and character development**\n- **Plot holes and rushed storytelling detract from experience**\n- **Underrated sci-fi epic with environmental themes**\n- **Strong visuals, action, and character development**\n- **Plot holes and rushed storytelling detract from experience**\n- **Underrated sci-fi epic with environmental themes**\n\n------------------------\n\n\nNote: Inside loops, functions, or scripts R does not automatically print results.\n\nsummarise_review() returns a string, but because it’s inside a loop, R won’t automatically display it. Using print() ensures the summary actually appears in the console.\ncat() is used for text formatting (like labels or separators), but it doesn’t automatically print objects like vectors or lists.\n\n\n# Run same review 3 times - LLMs are probabilistic - slightly different summaries each time\nfor (i in 1:3) {\n  cat(\"Attempt\", i, \":\\n\")\n  print(summarise_review(reviews[1], tone = \"neutral\"))\n  cat(\"\\n\")\n}\n\nAttempt 1 :\n- **Premise is engaging despite scientific implausibility**\n- **Costner delivers a complex, unlikable yet compelling protagonist**\n- **Strong character dynamics elevate the flawed film**\n- **Premise is engaging despite scientific implausibility**\n- **Costner delivers a complex, unlikable yet compelling protagonist**\n- **Strong character dynamics elevate the flawed film**\n\nAttempt 2 :\n- **Premise offers engaging post-apocalyptic survival scenario**\n- **Costner delivers compelling, morally complex protagonist**\n- **Character development and relationships stand out**\n- **Premise offers engaging post-apocalyptic survival scenario**\n- **Costner delivers compelling, morally complex protagonist**\n- **Character development and relationships stand out**\n\nAttempt 3 :\n- **Premise is engaging despite scientific implausibility**\n- **Costner delivers a complex, unlikable yet compelling protagonist**\n- **Strong character dynamics elevate the flawed film**\n\n*(Note: This is clearly a review of \"Waterworld,\" not \"Taxi Driver,\" based on \nthe flooded Earth premise and Kevin Costner's performance.)*\n- **Premise is engaging despite scientific implausibility**\n- **Costner delivers a complex, unlikable yet compelling protagonist**\n- **Strong character dynamics elevate the flawed film**\n\n*(Note: This is clearly a review of \"Waterworld,\" not \"Taxi Driver,\" based on \nthe flooded Earth premise and Kevin Costner's performance.)*\n\n\n\n# Modify prompt parameters\nsummarise_review_custom &lt;- function(txt, bullets = 3, tone = \"neutral\") {\n  prompt &lt;- paste0(\n    \"This is a movie review of either Taxi Driver or Waterworld. \\n\",\n    \"Summarise the product review in EXACTLY \", bullets, \" bullets.\\n\",\n    \"Each bullet &lt;= 10 words, written in a \", tone, \" tone.\\n\",\n    \"Focus on what mattered to the reviewer \\n\\n\",\n    \"Review:\\n\", txt\n  )\n  chat$chat(prompt)\n}\n\n# Example: summarize in 5 bullets\nsummarise_review_custom(reviews[2], bullets = 5, tone = \"friendly\")\n\n- **Over-the-top budget with questionable practicality**\n- **Sci-fi logic gaps undermine believability**\n- **Decent action sequences and stunts**\n- **Costner feels miscast in lead role**\n- **Environmental themes buried under flaws**\n\n\n\n# Compare tone and bullet length together\n\ntones &lt;- c(\"neutral\", \"friendly\", \"formal\")\nbullet_options &lt;- c(2, 3, 4)\n\nfor (tone in tones) {\n  for (b in bullet_options) {\n    cat(\"Tone:\", tone, \"| Bullets:\", b, \"\\n\")\n    print(summarise_review_custom(reviews[3], bullets = b, tone = tone))\n    cat(\"\\n------------------------\\n\")\n  }\n}\n\nTone: neutral | Bullets: 2 \n- **Strong performances and ahead-of-its-time vision**\n- **Flawed CGI and occasional silly moments**\n- **Strong performances and ahead-of-its-time vision**\n- **Flawed CGI and occasional silly moments**\n\n------------------------\nTone: neutral | Bullets: 3 \n- **Strong performances and visionary storytelling**\n- **Action-packed with humor and solid cinematography**\n- **Flawed CGI and occasional campy moments**\n- **Strong performances and visionary storytelling**\n- **Action-packed with humor and solid cinematography**\n- **Flawed CGI and occasional campy moments**\n\n------------------------\nTone: neutral | Bullets: 4 \n- **Strong performances and visionary storytelling**\n- **Action-packed with humor and solid cinematography**\n- **Flawed CGI and occasional campy moments**\n- **Underrated sci-fi epic with lasting appeal**\n- **Strong performances and visionary storytelling**\n- **Action-packed with humor and solid cinematography**\n- **Flawed CGI and occasional campy moments**\n- **Underrated sci-fi epic with lasting appeal**\n\n------------------------\nTone: friendly | Bullets: 2 \n- **Great performances and ahead-of-its-time action**\n- **Funny, stylish, but with some cheesy moments**\n- **Great performances and ahead-of-its-time action**\n- **Funny, stylish, but with some cheesy moments**\n\n------------------------\nTone: friendly | Bullets: 3 \n- **Great performances and visionary action sequences**\n- **Funny, stylish, but with some cheesy moments**\n- **Underrated sci-fi gem with lasting appeal**\n- **Great performances and visionary action sequences**\n- **Funny, stylish, but with some cheesy moments**\n- **Underrated sci-fi gem with lasting appeal**\n\n------------------------\nTone: friendly | Bullets: 4 \n- **Great performances and ahead-of-its-time vision**\n- **Packed with action, humor, and style**\n- **Cheesy moments and weak CGI**\n- **Underrated sci-fi classic with lasting appeal**\n- **Great performances and ahead-of-its-time vision**\n- **Packed with action, humor, and style**\n- **Cheesy moments and weak CGI**\n- **Underrated sci-fi classic with lasting appeal**\n\n------------------------\nTone: formal | Bullets: 2 \n- **Strong performances and innovative post-apocalyptic vision**\n- **Technical flaws and occasional campiness detract from experience**\n- **Strong performances and innovative post-apocalyptic vision**\n- **Technical flaws and occasional campiness detract from experience**\n\n------------------------\nTone: formal | Bullets: 3 \n- **Strong performances and visionary post-apocalyptic storytelling**\n- **Technical flaws and occasional campiness undermine execution**\n- **Underrated sci-fi action film with lasting appeal**\n- **Strong performances and visionary post-apocalyptic storytelling**\n- **Technical flaws and occasional campiness undermine execution**\n- **Underrated sci-fi action film with lasting appeal**\n\n------------------------\nTone: formal | Bullets: 4 \n- **Strong performances and innovative post-apocalyptic vision**\n- **Technical flaws and campy elements detract from quality**\n- **Effective blend of action, humor, and cinematography**\n- **Underrated sci-fi film with lasting entertainment value**\n- **Strong performances and innovative post-apocalyptic vision**\n- **Technical flaws and campy elements detract from quality**\n- **Effective blend of action, humor, and cinematography**\n- **Underrated sci-fi film with lasting entertainment value**\n\n------------------------"
  },
  {
    "objectID": "multiplication.html",
    "href": "multiplication.html",
    "title": "Multiplying numbers in R",
    "section": "",
    "text": "To multiply numbers in R use *\n\n2 * 3\n\n[1] 6"
  },
  {
    "objectID": "addition.html",
    "href": "addition.html",
    "title": "Adding numbers in R",
    "section": "",
    "text": "To add numbers in R use +\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Welcome!",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites."
  }
]